# AWS Cloud Custodian EC2 Health

This CodeBundle evaluates the health of EC2 instances in a given AWS Account and Region

## SLI
The SLI produces a score of 0 (bad), 1(good), or a value in between. This score is generated by capturing the following: 
- Stale AWS EC2 instances
- Stopped AWS EC2 instances

**Reasoning**: Stale and stopped instances may pose security risks due to missed updates or inactivity.

## TaskSet
Similar to the SLI, but produces a report on the specific resources and raises issues for each EC2 that requires attention. 


## Required Configuration

```
export AWS_ACCESS_KEY_ID=[]
export AWS_SECRET_ACCESS_KEY=[]
export AWS_DEFAULT_REGION=[]
export AWS_ACCOUNT_ID=$(aws sts get-caller-identity --query "Account" --output text)
```


## Testing 
See the .test directory for infrastructure test code. 